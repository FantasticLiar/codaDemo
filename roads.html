<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Hello MUI</title>
		<meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<link rel="stylesheet" href="css/mui.min.css">
		<style>
			#container {
				height: 640px;
				width: 100%;
			}
		</style>
	</head>

	<body>
		<header class="mui-bar mui-bar-nav">
			<a class="mui-icon mui-icon-left-nav mui-pull-left" href="home.html" target="_self"></a>
			<div class="mui-content-padded">
				<h3 style="text-align: center;margin-top: 12px;">周边道路交通</h3>
			</div>
		</header>
		<div class="mui-content">
			<div id="container" style="width: 100%;height: 640px"></div>
		</div>
		<script src="js/mui.min.js"></script>

		<script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=51QoFA3KpsBGESPl8yPICjr0evUPKigx"></script>
		<script type="text/javascript" src="js/Heatmap_min.js"></script>
		<script type="text/javascript">
			//获取当前位置  
			var currentLon, currentLat;
			mui.plusReady(function() {
				plus.geolocation.getCurrentPosition(translatePoint, function(e) {
					mui.toast("异常:" + e.message);
				});
			});
			//当前位置  
			function translatePoint(position) {
				currentLon = position.coords.longitude;
				currentLat = position.coords.latitude;
				console.log("当前位置：" + currentLon + "," + currentLat);
			}

			var map = new BMap.Map("container"); // 创建地图实例  

			var point = new BMap.Point(106.582701, 29.567461);
			map.centerAndZoom(point, 15); // 初始化地图，设置中心点坐标和地图级别  
			map.enableScrollWheelZoom(true); // 允许滚轮缩放 
			map.addControl(new BMap.NavigationControl());
			map.addControl(new BMap.ScaleControl());
			map.addControl(new BMap.OverviewMapControl());

						var points = [
			{"lng": "106.572831","lat": "29.584472","count": "30"},
			{"lng": "106.573245","lat": "29.583797","count": "30"},
			{"lng": "106.573640","lat": "29.582980","count": "30"},
			{"lng": "106.573838","lat": "29.582179","count": "30"},
			{"lng": "106.574017","lat": "29.581300","count": "30"},
			{"lng": "106.573963","lat": "29.580279","count": "30"},
			{"lng": "106.573730","lat": "29.579572","count": "30"},
			{"lng": "106.573694","lat": "29.578473","count": "30"},
			{"lng": "106.573586","lat": "29.577452","count": "30"},
			{"lng": "106.573460","lat": "29.576416","count": "30"},
			{"lng": "106.573352","lat": "29.575489","count": "30"},
			{"lng": "106.573299","lat": "29.575136","count": "30"},
			{"lng": "106.573173","lat": "29.573958","count": "30"},
			{"lng": "106.573290","lat": "29.574861","count": "30"},
			{"lng": "106.573011","lat": "29.573125","count": "30"},
			{"lng": "106.572975","lat": "29.572324","count": "30"},
			{"lng": "106.573074","lat": "29.573966","count": "30"},
			{"lng": "106.573002","lat": "29.572646","count": "30"},
			{"lng": "106.572796","lat": "29.571131","count": "30"},
			{"lng": "106.572769","lat": "29.570730","count": "30"},
			{"lng": "106.572661","lat": "29.569709","count": "30"},
			{"lng": "106.572822","lat": "29.571060","count": "30"},
			{"lng": "106.572661","lat": "29.569709","count": "30"},
			{"lng": "106.572670","lat": "29.569701","count": "30"},
			{"lng": "106.572580","lat": "29.568979","count": "30"},
			{"lng": "106.572499","lat": "29.567871","count": "30"},
			{"lng": "106.572212","lat": "29.566081","count": "30"},
			{"lng": "106.572301","lat": "29.566583","count": "30"},
			{"lng": "106.571834","lat": "29.563693","count": "30"},
			{"lng": "106.572140","lat": "29.565814","count": "30"},
			{"lng": "106.571637","lat": "29.563756","count": "30"},
			{"lng": "106.571313","lat": "29.562484","count": "30"},
			{"lng": "106.570936","lat": "29.561259","count": "30"},
			{"lng": "106.570235","lat": "29.559562","count": "30"},
			{"lng": "106.569463","lat": "29.557724","count": "30"},
			{"lng": "106.569086","lat": "29.556248","count": "30"},
			{"lng": "106.570469","lat": "29.560505","count": "30"},
			{"lng": "106.570164","lat": "29.559405","count": "30"},
			{"lng": "106.569481","lat": "29.557928","count": "30"},
			{"lng": "106.569050","lat": "29.556373","count": "30"},
			{"lng": "106.580296","lat": "29.578332","count": "30"},
			{"lng": "106.581554","lat": "29.577484","count": "30"},
			{"lng": "106.582488","lat": "29.576793","count": "30"},
			{"lng": "106.583189","lat": "29.576149","count": "30"},
			{"lng": "106.583189","lat": "29.576149","count": "30"},
			{"lng": "106.584231","lat": "29.573887","count": "30"},
			{"lng": "106.584231","lat": "29.572803","count": "30"},
			{"lng": "106.584752","lat": "29.572128","count": "30"},
			{"lng": "106.585075","lat": "29.571280","count": "30"},
			{"lng": "106.585507","lat": "29.570746","count": "30"},
			{"lng": "106.585686","lat": "29.569960","count": "30"},
			{"lng": "106.586028","lat": "29.569049","count": "30"},
			{"lng": "106.586513","lat": "29.568484","count": "30"},
			{"lng": "106.586926","lat": "29.568217","count": "30"},
			{"lng": "106.582812","lat": "29.568437","count": "30"},
			{"lng": "106.583836","lat": "29.568547","count": "30"},
			{"lng": "106.584626","lat": "29.568657","count": "30"},
			{"lng": "106.585129","lat": "29.568971","count": "30"},
			{"lng": "106.586081","lat": "29.567243","count": "30"},
			{"lng": "106.584267","lat": "29.567840","count": "30"},
			{"lng": "106.585111","lat": "29.568201","count": "30"},
			{"lng": "106.586225","lat": "29.566693","count": "30"},
			{"lng": "106.583315","lat": "29.566960","count": "30"},
			{"lng": "106.581231","lat": "29.566662","count": "30"},
			{"lng": "106.582650","lat": "29.566159","count": "30"},
			{"lng": "106.581877","lat": "29.566159","count": "30"},
			{"lng": "106.581877","lat": "29.566678","count": "30"},
			{"lng": "106.583099","lat": "29.564918","count": "30"},
			{"lng": "106.583692","lat": "29.564966","count": "30"},
			{"lng": "106.583422","lat": "29.563945","count": "30"},
			{"lng": "106.582650","lat": "29.564322","count": "30"},
			{"lng": "106.582973","lat": "29.563395","count": "30"},
			{"lng": "106.582093","lat": "29.563568","count": "30"},
			{"lng": "106.582255","lat": "29.563301","count": "30"},
			{"lng": "106.581931","lat": "29.562924","count": "30"},
			{"lng": "106.581231","lat": "29.565547","count": "30"},
			{"lng": "106.582560","lat": "29.565201","count": "30"},
			{"lng": "106.582362","lat": "29.564950","count": "30"},
			{"lng": "106.582183","lat": "29.564636","count": "30"},
			{"lng": "106.581949","lat": "29.564353","count": "30"},
			{"lng": "106.581716","lat": "29.564133","count": "30"},
			{"lng": "106.581554","lat": "29.563740","count": "30"},
			{"lng": "106.581123","lat": "29.563536","count": "30"},
			{"lng": "106.580853","lat": "29.563536","count": "30"},
			{"lng": "106.580853","lat": "29.563536","count": "30"},
			{"lng": "106.580853","lat": "29.563128","count": "30"},
			{"lng": "106.580799","lat": "29.563034","count": "30"},
			{"lng": "106.580997","lat": "29.568327","count": "30"},
			{"lng": "106.583503","lat": "29.568076","count": "30"},
			{"lng": "106.582398","lat": "29.568657","count": "30"},
			{"lng": "106.582012","lat": "29.568028","count": "30"},
			{"lng": "106.581473","lat": "29.568036","count": "30"},
			{"lng": "106.582012","lat": "29.568044","count": "30"},
			{"lng": "106.580772","lat": "29.567934","count": "30"},
			{"lng": "106.580566","lat": "29.567926","count": "30"},
			{"lng": "106.580395","lat": "29.567942","count": "30"},
			{"lng": "106.580171","lat": "29.567934","count": "30"},
			{"lng": "106.579695","lat": "29.567919","count": "30"},
			{"lng": "106.579335","lat": "29.567926","count": "30"},
			{"lng": "106.579012","lat": "29.567973","count": "30"},
			{"lng": "106.578302","lat": "29.567981","count": "30"},
			{"lng": "106.578239","lat": "29.567942","count": "30"},
			{"lng": "106.577548","lat": "29.567958","count": "30"},
			{"lng": "106.576937","lat": "29.567919","count": "30"},
			{"lng": "106.576389","lat": "29.567722","count": "30"},
			{"lng": "106.576101","lat": "29.567510","count": "30"},
			{"lng": "106.575877","lat": "29.567377","count": "30"},
			{"lng": "106.575706","lat": "29.567259","count": "30"},
			{"lng": "106.575275","lat": "29.566960","count": "30"},
			{"lng": "106.574368","lat": "29.566151","count": "6"},
			{"lng": "106.574745","lat": "29.566466","count": "6"},
			{"lng": "106.574260","lat": "29.565955","count": "6"},
			{"lng": "106.573766","lat": "29.565437","count": "6"},
			{"lng": "106.572959","lat": "29.564936","count": "7"},
			{"lng": "106.572394","lat": "29.564865","count": "7"},
			{"lng": "106.571971","lat": "29.564834","count": "8"},
			{"lng": "106.571774","lat": "29.564881","count": "8"},
			{"lng": "106.571495","lat": "29.564920","count": "30"},
			{"lng": "106.570786","lat": "29.555763","count": "9"},
			{"lng": "106.572654","lat": "29.555511","count": "9"},
			{"lng": "106.574091","lat": "29.555134","count": "9"},
			{"lng": "106.575457","lat": "29.555040","count": "30"},
			{"lng": "106.578259","lat": "29.554789","count": "30"},
			{"lng": "106.580451","lat": "29.554726","count": "30"},
			{"lng": "106.582715","lat": "29.554851","count": "30"},
			{"lng": "106.584296","lat": "29.555260","count": "30"},
			{"lng": "106.585841","lat": "29.555763","count": "30"},
			{"lng": "106.588464","lat": "29.557145","count": "30"},
			{"lng": "106.589614","lat": "29.558119","count": "30"},
			{"lng": "106.590872","lat": "29.559187","count": "30"},
			{"lng": "106.592776","lat": "29.561355","count": "30"},
			{"lng": "106.593531","lat": "29.562643","count": "30"},
			{"lng": "106.594321","lat": "29.563962","count": "30"},
			{"lng": "106.572831","lat": "29.584472","count": "30"},
			{"lng": "106.573245","lat": "29.583797","count": "30"},
			{"lng": "106.573640","lat": "29.582980","count": "30"},
			{"lng": "106.573838","lat": "29.582179","count": "30"},
			{"lng": "106.573730","lat": "29.579572","count": "3"},
			{"lng": "106.573694","lat": "29.578473","count": "4"},
			{"lng": "106.573586","lat": "29.577452","count": "8"},
			{"lng": "106.573460","lat": "29.576416","count": "9"},
			{"lng": "106.573352","lat": "29.575489","count": "9"},
			{"lng": "106.573299","lat": "29.575136","count": "9"},
			{"lng": "106.573173","lat": "29.573958","count": "7"},
			{"lng": "106.573290","lat": "29.574861","count": "3"},
			{"lng": "106.573011","lat": "29.573125","count": "7"},
			{"lng": "106.573074","lat": "29.573966","count": "6"},
			{"lng": "106.572796","lat": "29.571131","count": "6"},
			{"lng": "106.572769","lat": "29.570730","count": "2"},
			{"lng": "106.572661","lat": "29.569709","count": "8"},
			{"lng": "106.572822","lat": "29.571060","count": "7"},
			{"lng": "106.572661","lat": "29.569709","count": "7"},
			{"lng": "106.572670","lat": "29.569701","count": "6"},
//			{"lng": "106.572580","lat": "29.568979","count": "6"},
//			{"lng": "106.572499","lat": "29.567871","count": "6"},
			{"lng": "106.572212","lat": "29.566081","count": "6"},
			{"lng": "106.572301","lat": "29.566583","count": "6"},
			{"lng": "106.571834","lat": "29.563693","count": "6"},
//			{"lng": "106.572140","lat": "29.565814","count": "6"},
//			{"lng": "106.571637","lat": "29.563756","count": "6"},
			{"lng": "106.571313","lat": "29.562484","count": "6"},
			{"lng": "106.570936","lat": "29.561259","count": "6"},
//			{"lng": "106.570235","lat": "29.559562","count": "6"},
//			{"lng": "106.569463","lat": "29.557724","count": "6"},
{
	"lng": "106.569086", 
	"lat": "29.556248", 
	"count": "20"
},
{
	"lng": "106.570469", 
	"lat": "29.560505", 
	"count": "20"
},
{
	"lng": "106.570164", 
	"lat": "29.559405", 
	"count": "30"
},
{
	"lng": "106.569481", 
	"lat": "29.557928", 
	"count": "30"
},
{
	"lng": "106.569050", 
	"lat": "29.556373", 
	"count": "30"
},
{
	"lng": "106.580296", 
	"lat": "29.578332", 
	"count": "6"
},
{
	"lng": "106.581554", 
	"lat": "29.577484", 
	"count": "6"
},
{
	"lng": "106.582488", 
	"lat": "29.576793", 
	"count": "6"
},
{
	"lng": "106.583189", 
	"lat": "29.576149", 
	"count": "6"
},
{
	"lng": "106.583189", 
	"lat": "29.576149", 
	"count": "6"
},
{
	"lng": "106.584231", 
	"lat": "29.573887", 
	"count": "6"
},
{
	"lng": "106.584231", 
	"lat": "29.573887", 
	"count": "30"
},
{
	"lng": "106.584752", 
	"lat": "29.572803", 
	"count": "30"
},
{
	"lng": "106.585075", 
	"lat": "29.572128", 
	"count": "30"
},
{
	"lng": "106.585507", 
	"lat": "29.571280", 
	"count": "30"
},
{
	"lng": "106.585686", 
	"lat": "29.570746", 
	"count": "30"
},
{
	"lng": "106.586028", 
	"lat": "29.569960", 
	"count": "30"
},
{
	"lng": "106.586513", 
	"lat": "29.569049", 
	"count": "6"
},
{
	"lng": "106.586926", 
	"lat": "29.568484", 
	"count": "6"
},
{
	"lng": "106.582812", 
	"lat": "29.568217", 
	"count": "6"
},
{
	"lng": "106.583836", 
	"lat": "29.568437", 
	"count": "6"
},
{
	"lng": "106.584626", 
	"lat": "29.568547", 
	"count": "6"
},
{
	"lng": "106.585129", 
	"lat": "29.568657", 
	"count": "6"
},
{
	"lng": "106.586081", 
	"lat": "29.568971", 
	"count": "6"
},
{
	"lng": "106.584267", 
	"lat": "29.567243", 
	"count": "30"
},
{
	"lng": "106.585111", 
	"lat": "29.567840", 
	"count": "6"
},
{
	"lng": "106.586225", 
	"lat": "29.568201", 
	"count": "6"
},
{
	"lng": "106.583315", 
	"lat": "29.566693", 
	"count": "6"
},
{
	"lng": "106.584878", 
	"lat": "29.566960", 
	"count": "6"
},
{
	"lng": "106.581231", 
	"lat": "29.562924", 
	"count": "30"
},
{
	"lng": "106.583135", 
	"lat": "29.566662", 
	"count": "30"
},
{
	"lng": "106.582650", 
	"lat": "29.566489", 
	"count": "30"
},
{
	"lng": "106.581877", 
	"lat": "29.566159", 
	"count": "30"
},
{
	"lng": "106.581877", 
	"lat": "29.566159", 
	"count": "30"
},
{
	"lng": "106.583099", 
	"lat": "29.566678", 
	"count": "30"
},
{
	"lng": "106.583692", 
	"lat": "29.564918", 
	"count": "6"
},
{
	"lng": "106.583422", 
	"lat": "29.564966", 
	"count": "6"
},
{
	"lng": "106.582650", 
	"lat": "29.563945", 
	"count": "6"
},
{
	"lng": "106.582973", 
	"lat": "29.564322", 
	"count": "6"
},
{
	"lng": "106.582093", 
	"lat": "29.563395", 
	"count": "6"
},
{
	"lng": "106.582255", 
	"lat": "29.563568", 
	"count": "6"
},
{
	"lng": "106.581931", 
	"lat": "29.563301", 
	"count": "6"
},
{
	"lng": "106.581231", 
	"lat": "29.562924", 
	"count": "6"
},
{
	"lng": "106.582560", 
	"lat": "29.565547", 
	"count": "20"
},
{
	"lng": "106.582362", 
	"lat": "29.565201", 
	"count": "20"
},
{
	"lng": "106.582183", 
	"lat": "29.564950", 
	"count": "20"
},
{
	"lng": "106.581949", 
	"lat": "29.564636", 
	"count": "20"
},
{
	"lng": "106.581716", 
	"lat": "29.564353", 
	"count": "20"
},
{
	"lng": "106.581554", 
	"lat": "29.564133", 
	"count": "6"
},
{
	"lng": "106.581123", 
	"lat": "29.563740", 
	"count": "6"
},
{
	"lng": "106.580853", 
	"lat": "29.563536", 
	"count": "6"
},
{
	"lng": "106.580853", 
	"lat": "29.563536", 
	"count": "6"
},
{
	"lng": "106.580853", 
	"lat": "29.563536", 
	"count": "6"
},
{
	"lng": "106.580799", 
	"lat": "29.563128", 
	"count": "6"
},
{
	"lng": "106.580997", 
	"lat": "29.563034", 
	"count": "6"
},
{
	"lng": "106.583503", 
	"lat": "29.568327", 
	"count": "6"
},
{
	"lng": "106.582398", 
	"lat": "29.568076", 
	"count": "6"
},
{
	"lng": "106.582012", 
	"lat": "29.568028", 
	"count": "6"
},
{
	"lng": "106.581473", 
	"lat": "29.568036", 
	"count": "6"
},
{
	"lng": "106.582012", 
	"lat": "29.568044", 
	"count": "6"
},
{
	"lng": "106.580772", 
	"lat": "29.567934", 
	"count": "6"
},
{
	"lng": "106.580566", 
	"lat": "29.567926", 
	"count": "6"
},
{
	"lng": "106.580395", 
	"lat": "29.567942", 
	"count": "6"
},
{
	"lng": "106.580171", 
	"lat": "29.567934", 
	"count": "6"
},
{
	"lng": "106.579695", 
	"lat": "29.567919", 
	"count": "6"
},
{
	"lng": "106.579335", 
	"lat": "29.567926", 
	"count": "6"
},
{
	"lng": "106.579012", 
	"lat": "29.567973", 
	"count": "6"
},
{
	"lng": "106.578302", 
	"lat": "29.567981", 
	"count": "6"
},
{
	"lng": "106.578239", 
	"lat": "29.567942", 
	"count": "6"
},
{
	"lng": "106.577548", 
	"lat": "29.567958", 
	"count": "6"
},
{
	"lng": "106.576937", 
	"lat": "29.567919", 
	"count": "6"
},
{
	"lng": "106.576389", 
	"lat": "29.567722", 
	"count": "20"
},
{
	"lng": "106.576101", 
	"lat": "29.567510", 
	"count": "20"
},
{
	"lng": "106.575877", 
	"lat": "29.567377", 
	"count": "20"
},
{
	"lng": "106.575706", 
	"lat": "29.567259", 
	"count": "20"
},
{
	"lng": "106.575275", 
	"lat": "29.566960", 
	"count": "20"
},
{
	"lng": "106.574368", 
	"lat": "29.566151", 
	"count": "6"
},
{
	"lng": "106.574745", 
	"lat": "29.566466", 
	"count": "6"
},
{
	"lng": "106.574260", 
	"lat": "29.565955", 
	"count": "6"
},
{
	"lng": "106.573766", 
	"lat": "29.565437", 
	"count": "6"
},
{
	"lng": "106.572959", 
	"lat": "29.564936", 
	"count": "6"
},
{
	"lng": "106.572394", 
	"lat": "29.564865", 
	"count": "30"
},
{
	"lng": "106.571971", 
	"lat": "29.564834", 
	"count": "30"
},
{
	"lng": "106.572831", 
	"lat": "29.584472", 
	"count": "30"
},
{
	"lng": "106.573245", 
	"lat": "29.583797", 
	"count": "30"
},
{
	"lng": "106.573640", 
	"lat": "29.582980", 
	"count": "30"
},
{
	"lng": "106.573838", 
	"lat": "29.582179", 
	"count": "30"
},
{
	"lng": "106.574017", 
	"lat": "29.581300", 
	"count": "6"
},
{
	"lng": "106.573963", 
	"lat": "29.580279", 
	"count": "6"
},
{
	"lng": "106.57373,", 
	"lat": "9.579572]", 
	"count": "6"
},
{
	"lng": "106.573694", 
	"lat": "29.578473", 
	"count": "6"
},
{
	"lng": "106.573586", 
	"lat": "29.577452", 
	"count": "6"
},
{
	"lng": "106.573460", 
	"lat": "29.576416", 
	"count": "6"
},
{
	"lng": "106.573352", 
	"lat": "29.575489", 
	"count": "6"
},
{
	"lng": "106.573299", 
	"lat": "29.575136", 
	"count": "6"
},
{
	"lng": "106.573173", 
	"lat": "29.573958", 
	"count": "6"
},
{
	"lng": "106.573290", 
	"lat": "29.574861", 
	"count": "6"
},
{
	"lng": "106.573011", 
	"lat": "29.573125", 
	"count": "6"
},
{
	"lng": "106.572975", 
	"lat": "29.572324", 
	"count": "6"
},
{
	"lng": "106.573074", 
	"lat": "29.573966", 
	"count": "6"
},
{
	"lng": "106.573002", 
	"lat": "29.572646", 
	"count": "6"
},
{
	"lng": "106.572796", 
	"lat": "29.571131", 
	"count": "20"
},
{
	"lng": "106.572769", 
	"lat": "29.570730", 
	"count": "20"
},
{
	"lng": "106.572661", 
	"lat": "29.569709", 
	"count": "20"
},
{
	"lng": "106.572822", 
	"lat": "29.571060", 
	"count": "20"
},
{
	"lng": "106.572661", 
	"lat": "29.569709", 
	"count": "20"
},
{
	"lng": "106.572670", 
	"lat": "29.569701", 
	"count": "20"
},
{
	"lng": "106.572580", 
	"lat": "29.568979", 
	"count": "20"
},
{
	"lng": "106.572499", 
	"lat": "29.567871", 
	"count": "20"
},
{
	"lng": "106.572212", 
	"lat": "29.566081", 
	"count": "20"
},
{
	"lng": "106.572301", 
	"lat": "29.566583", 
	"count": "20"
},
{
	"lng": "106.571834", 
	"lat": "29.563693", 
	"count": "20"
},
{
	"lng": "106.572140", 
	"lat": "29.565814", 
	"count": "20"
},
{
	"lng": "106.571637", 
	"lat": "29.563756", 
	"count": "20"
},
{
	"lng": "106.571313", 
	"lat": "29.562484", 
	"count": "20"
},
{
	"lng": "106.570936", 
	"lat": "29.561259", 
	"count": "20"
},
{
	"lng": "106.570235", 
	"lat": "29.559562", 
	"count": "20"
},
{
	"lng": "106.569463", 
	"lat": "29.557724", 
	"count": "20"
},
{
	"lng": "106.569086", 
	"lat": "29.556248", 
	"count": "20"
},
{
	"lng": "106.570469", 
	"lat": "29.560505", 
	"count": "20"
},
{
	"lng": "106.570164", 
	"lat": "29.559405", 
	"count": "30"
},
{
	"lng": "106.569481", 
	"lat": "29.557928", 
	"count": "30"
},
{
	"lng": "106.569050", 
	"lat": "29.556373", 
	"count": "30"
},
{
	"lng": "106.580296", 
	"lat": "29.578332", 
	"count": "6"
},
{
	"lng": "106.581554", 
	"lat": "29.577484", 
	"count": "6"
},
{
	"lng": "106.582488", 
	"lat": "29.576793", 
	"count": "6"
},
{
	"lng": "106.583189", 
	"lat": "29.576149", 
	"count": "6"
},
{
	"lng": "106.583189", 
	"lat": "29.576149", 
	"count": "6"
},
{
	"lng": "106.584231", 
	"lat": "29.573887", 
	"count": "6"
},
{
	"lng": "106.584231", 
	"lat": "29.573887", 
	"count": "30"
},
{
	"lng": "106.584752", 
	"lat": "29.572803", 
	"count": "30"
},
{
	"lng": "106.585075", 
	"lat": "29.572128", 
	"count": "30"
},
{
	"lng": "106.585507", 
	"lat": "29.571280", 
	"count": "30"
},
{
	"lng": "106.585686", 
	"lat": "29.570746", 
	"count": "30"
},
{
	"lng": "106.582812", 
	"lat": "29.568217", 
	"count": "6"
},
{
	"lng": "106.583836", 
	"lat": "29.568437", 
	"count": "6"
},
{
	"lng": "106.584626", 
	"lat": "29.568547", 
	"count": "6"
},
{
	"lng": "106.585129", 
	"lat": "29.568657", 
	"count": "6"
},
{
	"lng": "106.586081", 
	"lat": "29.568971", 
	"count": "6"
},
{
	"lng": "106.584267", 
	"lat": "29.567243", 
	"count": "30"
},
{
	"lng": "106.585111", 
	"lat": "29.567840", 
	"count": "6"
},
{
	"lng": "106.586225", 
	"lat": "29.568201", 
	"count": "6"
},
{
	"lng": "106.583315", 
	"lat": "29.566693", 
	"count": "6"
},
{
	"lng": "106.584878", 
	"lat": "29.566960", 
	"count": "6"
},
{
	"lng": "106.581231", 
	"lat": "29.562924", 
	"count": "30"
},
{
	"lng": "106.583135", 
	"lat": "29.566662", 
	"count": "30"
},
{
	"lng": "106.582650", 
	"lat": "29.566489", 
	"count": "30"
},
{
	"lng": "106.581877", 
	"lat": "29.566159", 
	"count": "30"
},
{
	"lng": "106.581877", 
	"lat": "29.566159", 
	"count": "30"
},
{
	"lng": "106.583099", 
	"lat": "29.566678", 
	"count": "30"
},
{
	"lng": "106.582973", 
	"lat": "29.564322", 
	"count": "6"
},
{
	"lng": "106.582093", 
	"lat": "29.563395", 
	"count": "6"
},
{
	"lng": "106.582255", 
	"lat": "29.563568", 
	"count": "6"
},
{
	"lng": "106.581931", 
	"lat": "29.563301", 
	"count": "6"
},
{
	"lng": "106.582183", 
	"lat": "29.564950", 
	"count": "20"
},
{
	"lng": "106.581949", 
	"lat": "29.564636", 
	"count": "20"
},
{
	"lng": "106.581716", 
	"lat": "29.564353", 
	"count": "20"
},
{
	"lng": "106.581554", 
	"lat": "29.564133", 
	"count": "6"
},
{
	"lng": "106.581123", 
	"lat": "29.563740", 
	"count": "6"
},
			];
			//这里面添加房价的经纬度，我的太多了，所以只拿了三个  

			if(!isSupportCanvas()) {
				alert('热力图目前只支持有canvas支持的浏览器,您所使用的浏览器不能使用热力图功能~')
			}
			//详细的参数,可以查看heatmap.js的文档 https://github.com/pa7/heatmap.js/blob/master/README.md  
			//参数说明如下:  
			/* visible 热力图是否显示,默认为true  
			 * opacity 热力的透明度,1-100  
			 * radius 势力图的每个点的半径大小  
			 * gradient  {JSON} 热力图的渐变区间 . gradient如下所示  
			 *  {  
			        .2:'rgb(0, 255, 255)',  
			        .5:'rgb(0, 110, 255)',  
			        .8:'rgb(100, 0, 255)'  
			    }  
			    其中 key 表示插值的位置, 0~1.  
			        value 为颜色值.  
			 */
			heatmapOverlay = new BMapLib.HeatmapOverlay({
				"radius": 20
			});
			map.addOverlay(heatmapOverlay);
			heatmapOverlay.setDataSet({
				data: points,
				max: 100
			});

			//添加当前所在位置标签
			var currentLocation = new BMap.Marker(point); // 创建标注
			map.addOverlay(currentLocation); // 将标注添加到地图中
			currentLocation.setAnimation(BMAP_ANIMATION_BOUNCE); //跳动的动画
			//	//添加景区图标
			//	var json_data = [[106.5734333,29.56016388],[106.57420277,29.5647333],[106.581425,29.5668305],[106.5794416,29.5603833]];
			//	var pointArray = new Array();
			//	for(var i=0;i<json_data.length;i++){
			//		var marker = new BMap.Marker(new BMap.Point(json_data[i][0], json_data[i][1])); // 创建点
			//		map.addOverlay(marker);    //增加点
			//		pointArray[i] = new BMap.Point(json_data[i][0], json_data[i][1]);
			//		marker.addEventListener("click",attribute);
			//	}
			////	//让所有点在视野范围内
			////	map.setViewport(pointArray);
			//	//获取覆盖物位置
			//	function attribute(e){
			//		var p = e.target;
			//		var pp=new BMap.Point(p.getPosition().lng,p.getPosition().lat);
			//		var opts = {    
			//	    width : 180,     // 信息窗口宽度    
			//	    height: 80,     // 信息窗口高度    
			//	    title : "景区"  // 信息窗口标题 
			//		}  
			//		var text="world";
			//		var sContent = "<div>"
			//			+"<b>景区介绍</b>"
			//			+"<br>解放碑"
			//			+"<br>地址：建国路乙118号京汇大厦2楼<br>"
			//			+"<p id='jiefangbeiJump'>"
			//			+"景区详情"
			//			+"</p>"
			//			"</div>";
			//		var infoWindow = new BMap.InfoWindow(sContent);  // 创建信息窗口对象    
			//		map.openInfoWindow(infoWindow,pp);      // 打开信息窗口
			//	}
			//判断浏览区是否支持canvas  
			function isSupportCanvas() {
				var elem = document.createElement('canvas');
				return !!(elem.getContext && elem.getContext('2d'));
			}

			function setGradient() {
				/*格式如下所示:  
				{  
				    0:'rgb(102, 255, 0)',  
				    .5:'rgb(255, 170, 0)',  
				    1:'rgb(255, 0, 0)'  
				}*/
				var gradient = {};
				var colors = document.querySelectorAll("input[type='color']");
				colors = [].slice.call(colors, 0);
				colors.forEach(function(ele) {
					gradient[ele.getAttribute("data-key")] = ele.value;
				});
				heatmapOverlay.setOptions({
					"gradient": gradient
				});
			}
		</script>
		<script>
			mui.init();
			mui('body').on('tap', 'a', function() {
				window.location.href = this.href;
			});
		</script>
	</body>

</html>